# ================================================================================================
# üõ°Ô∏è GUARDIAN CI TESTING FRAMEWORK (20-guardian.env)
# ================================================================================================
#
# Purpose: Guardian CI testing framework configuration
# Load Order: 20 (integration/testing layer, loaded after tools)
#
# Guardian is an optional CI testing framework for go-fortress that validates workflows.
# This file defines all Guardian configuration including:
# - Feature toggle (enable/disable Guardian)
# - Tool versions (act, actionlint, go-sarif)
# - Execution settings (timeouts, parallelization)
# - Output configuration (SARIF, JSONL)
# - Policy configuration (exceptions, strict mode)
# - Debug settings
#
# IMPORTANT: This file is optional - most repos do NOT need Guardian.
# Only include if you're actively testing GitHub Actions workflows.
#
# Override in: 90-project.env for project-specific Guardian settings
#
# ================================================================================================

# ================================================================================================
# üéõÔ∏è FEATURE TOGGLE
# ================================================================================================

# Enable Guardian CI testing framework (disabled by default)
ENABLE_CI_GUARDIAN=false

# ================================================================================================
# üõ†Ô∏è TOOL VERSIONS
# ================================================================================================

# Act - Run GitHub Actions locally
# https://github.com/nektos/act/releases
GUARDIAN_ACT_VERSION=v0.2.84

# Actionlint - GitHub Actions workflow linter
# https://github.com/rhysd/actionlint/releases
GUARDIAN_ACTIONLINT_VERSION=v1.7.10

# go-sarif - SARIF format generator for Go
# https://github.com/owenrumney/go-sarif/releases
GUARDIAN_GO_SARIF_VERSION=v3.3.0

# ================================================================================================
# ‚öôÔ∏è EXECUTION SETTINGS
# ================================================================================================

# Timeout for individual scenario tests
GUARDIAN_SCENARIO_TIMEOUT=30s

# Timeout for static analysis checks
GUARDIAN_STATIC_TIMEOUT=5s

# Number of scenarios to run in parallel
GUARDIAN_PARALLEL_SCENARIOS=1

# ================================================================================================
# üìä OUTPUT CONFIGURATION
# ================================================================================================

# Directory for Guardian output files
GUARDIAN_OUTPUT_DIR=.mage-x

# SARIF output filename (for security scanning integration)
GUARDIAN_SARIF_OUTPUT=guardian.sarif

# JSONL output filename (for structured test results)
GUARDIAN_JSONL_OUTPUT=ci-results.jsonl

# ================================================================================================
# üîí POLICY CONFIGURATION
# ================================================================================================

# Path to Guardian policy exceptions file
GUARDIAN_EXCEPTIONS_FILE=.github/guardian.yaml

# Strict policy mode (fail on any violations)
GUARDIAN_POLICY_STRICT=true

# ================================================================================================
# üêõ DEBUG SETTINGS
# ================================================================================================

# Verbose output for debugging
GUARDIAN_VERBOSE=false

# Dry run mode (validate without executing)
GUARDIAN_DRY_RUN=false

# Keep Docker containers after test completion (for debugging)
GUARDIAN_KEEP_CONTAINERS=false
